# 결과값
- const user = await User.findOne({});
  console.log(user.nick); // 사용자 닉네임

# 다대다 모델 접근
- db.sequelize.models.PostHashtag

# 내가 쓴 게시물만 가져오기(관계 쿼리, 1대1, 1대다)
1. const user = await User.findOne({          // 동시 요청
     include: [{
         model: Comment,
     }]
   })
   console.log(user.Comments); // 사용자 댓글
2. const user = await User.findOne({});       // 2번 순서대로 요청
   const comments = await user.getComments();
   console.log(comments); // 사용자 댓글

#  컬럼명을 as로 바꾸어서 가져올 수 있음
-  [*] 관계 설정 시 as로 컬럼 이름 변경
   db.User.hasMany(db.Comment, {foreignKey: 'commenter', sourceKey: 'id', as: 'Answers'});
-  [*] 쿼리할 때에는
1. const user = await User.findOne({
     include: [{
         model: Comment,
     }]
   })
   console.log(user.Answers); // 사용자 댓글
2. const user = await User.findOne({});
   const comments = await user.getAnswers();
   console.log(comments); // 사용자 댓글

# include, 관계 쿼리 메서드에도 where나 attributes 가능
1. const user = await User.findOne({
    include: [{
        model: Comment,
        where: {
            id: 1,
        },
        attributes: ['id'],
    }]
  });
2. const comments = await user.getComments({
    where: {
        id: 1,
    },
    attributes: ['id'],
  })

# 생성 쿼리
-  (아이템 드랍시 아이템을 먼저 생성하고 그 후에 사용자 결정하는 방식)
1. const user = await User.findOne({});
   const comment = await Comment.create();
   await user.addComment(comment); || await user.addComment(comment.id);
-  (아이템 드랍시 바로 사용자가 결정되는 상황)
2. const user = await User.findOne({});
   const comment = await Comment.create({userId: 1});
-  (여러개 추가할 경우)
3. const user = await User.findOne({});
   const comment1 = await Comment.create();
   const comment2 = await Comment.create();
   await user.addComment([comment1, comment2]);

# 수정, 삭제는 set+모델명, remove+모델명
- const comments = await user.[get]Comments({
    where: {
        id: 1,
    },
    attributes: ['id'],
  })

# 직접 SQL 쓰는 법
- const [result, metadata] = await sequelize.query('SELECT * from comments');
  console.log(result);